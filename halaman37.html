<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Borang Tempahan & Persetujuan Rawatan</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff;
      color: #000;
      padding: 20px;
    }
    label, input, select, textarea {
      display: block;
      width: 100%;
      margin-bottom: 10px;
    }
    button {
      background-color: #FFD700;
      color: #000;
      padding: 10px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>BORANG SARINGAN VAKSINASI / PEMANDULAN/ GROOMING / BOARDING üêæ</h2>
  <form id="whatsappForm">
    <h3>Maklumat Pemilik</h3>
    <label>Nama Pemilik: <input type="text" id="nama_pemilik"></label>
    <label>No. Kad Pengenalan: <input type="text" id="ic_pemilik"></label>
    <label>Alamat: <textarea id="alamat_pemilik"></textarea></label>
    <label>No. Telefon: <input type="text" id="telefon_pemilik"></label>
    <label>Emel: <input type="email" id="emel_pemilik"></label>

    <h3>Maklumat Kucing üê±</h3>
    <label>Nama Kucing: <input type="text" id="nama_kucing"></label>
    <label>Umur: <input type="text" id="umur_kucing"></label>
    <label>Baka: <input type="text" id="baka_kucing"></label>
    <label>Berat: <input type="text" id="berat_kucing"></label>
    <label>Status Vaksin:
      <select id="vaksin_kucing">
        <option value="Sila Pilih">Sila Pilih</option>
        <option value="Tiada Vaksin">Tiada Vaksin</option>
        <option value="Vaksin Booster">Vaksin Booster</option>
        <option value="Vaksin Tahunan">Vaksin Tahunan</option>
      </select>
    </label>

    <h3>Soalan-soalan Saringan</h3>
    <label>1. Adakah kucing baru dibeli/diambil kurang 7 hari?
      <select class="saringan">
         <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>2. Adakah kucing baru balik boarding/grooming?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>3. Ada perancangan untuk boarding/grooming dalam masa 1-3 bulan?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>4. Ada gejala penyakit (cirit, muntah, selsema, bersin, kurang aktif, kurang makan)?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>5. Ada kucing sakit/mati di rumah dalam 2 minggu sebelum?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>6. Kucing ada masalah mulut berbau dan kurang makan?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>7. Boleh hadir susulan selepas seminggu pemeriksaan?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="1">Ya</option>
        <option value="0">Tidak</option>
      </select>
    </label>
    <label>8. Boleh sangkarkan kucing dalam jangka masa 1-3 bulan?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="1">Ya</option>
        <option value="0">Tidak</option>
      </select>
    </label>
    <label>9. Ada luka di kawasan badan kucing?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>10. Ada sangkar kecil (1 ekor kucing dewasa sahaja) di rumah?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="1">Ya</option>
        <option value="0">Tidak</option>
      </select>
    </label>
    <label>11. Pernah buat rawatan di klinik lain?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>
    <label>12. Adakah kucing ini tidak boleh disentuh oleh orang lain?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="1">Ya</option>
        <option value="0">Tidak</option>
      </select>
    </label>
    <label>13. Adakah kucing ini garang dan menyerang?
      <select class="saringan">
        <option value="0">Sila pIlih</option>
        <option value="0">Ya</option>
        <option value="1">Tidak</option>
      </select>
    </label>

    <h3>Temujanji & Rawatan üóìÔ∏è</h3>
    <label>Tarikh Temujanji: <input type="date" id="tarikh_temujanji"></label>
    <label>Tujuan Pemeriksaan:
      <select id="tujuan_pemeriksaan">
        <option value="Sila Pilih">Sila Pilih</option>
        <option value="Rawatan">Rawatan</option>
        <option value="Vaksin">Vaksin</option>
        <option value="Grooming">Grooming</option>
        <option value="Boarding">Boarding</option>
        <option value="Sakit">Sakit</option>
      </select>
    </label>
    <label>Gejala: <textarea id="gejala"></textarea></label>

    <h3>Persetujuan</h3>
    <p>Saya bersetuju untuk meneruskan rawatan dan akan bertanggungjawab sepenuhnya terhadap penjagaan selepas prosedur.</p>

    <button type="button" onclick="hantarKeWhatsApp()">Hantar</button>
  </form>

  <script>
    function hantarKeWhatsApp() {
      let saringan = document.querySelectorAll(".saringan");
      let soalanTeks = [
        "1. Kucing baru dibeli/diambil kurang 7 hari",
        "2. Kucing baru balik boarding/grooming",
        "3. Ada perancangan untuk boarding/grooming dalam masa 1-3 bulan",
        "4. Ada gejala penyakit (cirit, muntah, selsema, bersin, kurang aktif, kurang makan)",
        "5. Ada kucing sakit/mati di rumah dalam 2 minggu sebelum",
        "6. Kucing ada masalah mulut berbau dan kurang makan",
        "7. Boleh hadir susulan selepas seminggu pemeriksaan",
        "8. Boleh sangkarkan kucing dalam jangka masa 1-3 bulan",
        "9. Ada luka di kawasan badan kucing",
        "10. Ada sangkar kecil di rumah",
        "11. Pernah buat rawatan di klinik lain",
        "12. Kucing boleh disentuh oleh orang lain",
        "13. Kucing ini garang dan menyerang"
      ];

      let jumlahSoalan = saringan.length;
      let jumlahYa = 0;
      let sebabTidakLayak = [];

      saringan.forEach((item, index) => {
        if (item.value === "1") {
          jumlahYa++;
        } else {
          sebabTidakLayak.push(soalanTeks[index]);
        }
      });

      let skorSaringan = Math.round((jumlahYa / jumlahSoalan) * 100);
      let statusKelayakan = (skorSaringan >= 80) 
        ? "‚úÖ Layak untuk vaksinasi/pemandulan." 
        : "‚ùå Tidak layak vaksinasi/pemandulan  (skor < 80%).";

      let alasan = (sebabTidakLayak.length > 0)
        ? "\n\nSebab tidak layak:\n- " + sebabTidakLayak.join("\n- ")
        : "";

      let mesej = `Borang Tempahan & Persetujuan Rawatan üêæ\n\n` +
                  `Nama Pemilik: ${document.getElementById("nama_pemilik").value}\n` +
                  `No. Kad Pengenalan: ${document.getElementById("ic_pemilik").value}\n` +
                  `Alamat: ${document.getElementById("alamat_pemilik").value}\n` +
                  `No. Telefon: ${document.getElementById("telefon_pemilik").value}\n` +
                  `Emel: ${document.getElementById("emel_pemilik").value}\n\n` +
                  `Nama Kucing: ${document.getElementById("nama_kucing").value}\n` +
                  `Umur: ${document.getElementById("umur_kucing").value}\n` +
                  `Baka: ${document.getElementById("baka_kucing").value}\n` +
                  `Berat: ${document.getElementById("berat_kucing").value}\n` +
                  `Status Vaksin: ${document.getElementById("vaksin_kucing").value}\n\n` +
                  `Tarikh Temujanji: ${document.getElementById("tarikh_temujanji").value}\n` +
                  `Tujuan Pemeriksaan: ${document.getElementById("tujuan_pemeriksaan").value}\n` +
                  `Gejala: ${document.getElementById("gejala").value}\n\n` +
                  `Skor Saringan: ${skorSaringan}%\n` +
                  `${statusKelayakan}${alasan}\n\n` +
                  `Saya bersetuju untuk meneruskan rawatan dan akan bertanggungjawab sepenuhnya terhadap penjagaan selepas prosedur.`;

      let whatsappURL = `https://wa.me/60182624047?text=${encodeURIComponent(mesej)}`;
      window.open(whatsappURL, "_blank");
    }
  </script>
</body>
</html>
